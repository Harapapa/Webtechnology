<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StudyOS Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Add Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ['Inter', 'sans-serif'],
            },
            colors: {
              primary: {
                50: '#eef2ff',
                100: '#e0e7ff', 
                500: '#6366f1',
                600: '#4f46e5',
                700: '#4338ca',
              },
            },
            backgroundImage: {    
          // Graph paper - perfect for study apps
          'graph-paper': "url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cg fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.05'%3E%3Cpath opacity='.5' d='M96 95h4v1h-4v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9zm-1 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9z'/%3E%3Cpath d='M6 5V0H5v5H0v1h5v94h1V6h94V5H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")",
          
          }
        }
      }
    }
    </script>
  </head>
  <body class="bg-graph-paper bg-gray-50 min-h-screen text-gray-800 font-sans">

  <!-- Header -->
  <header class="bg-white shadow p-4">
    <h1 class="text-2xl md:text-3xl font-bold text-center text-blue-600">üéì StudyOS - Egyetemi Dashboard</h1>
    <p class="text-sm md:text-base text-center text-gray-500">Kezeld a feladataid, c√©ljaid √©s tanul√°si statisztik√°id egy helyen</p>
  </header>

  <!-- Main content -->
  <main class="max-w-6xl mx-auto p-3 md:p-6 grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6">
    <!-- Pomodoro Timer Section -->
    <section class="bg-white p-5 rounded-2xl shadow-md hover:shadow-lg transition-shadow duration-300 border border-gray-100">
      <h2 class="text-lg md:text-xl font-semibold mb-3 md:mb-4 flex items-center gap-2">
        <span class="text-red-500">‚è±Ô∏è</span> Pomodoro Id≈ëz√≠t≈ë
      </h2>
      <div class="mb-4 text-center">
        <label for="pomodoro-subject" class="block text-sm font-medium text-gray-600 mb-1">Aktu√°lis tant√°rgy:</label>
        <select id="pomodoro-subject" class="px-3 py-2 border rounded-lg bg-white text-gray-800 focus:ring-2 focus:ring-red-500 focus:border-red-500 w-full max-w-[250px] mx-auto">
          <option value="">-- V√°lassz tant√°rgyat --</option>
          <!-- Subjects will be added dynamically -->
        </select>
      </div>
      <div class="relative flex justify-center items-center w-40 h-40 mx-auto mb-4">
        <!-- SVG Progress Circle -->
        <svg class="absolute" width="160" height="160" viewBox="0 0 100 100">
          <circle cx="50" cy="50" r="45" fill="none" stroke="#f1f1f1" stroke-width="8" />
          <circle id="timer-progress" 
                  cx="50" cy="50" r="45" 
                  fill="none" 
                  stroke="#ef4444" 
                  stroke-width="8" 
                  stroke-linecap="round" 
                  stroke-dasharray="283" 
                  stroke-dashoffset="0"
                  transform="rotate(-90 50 50)" />
        </svg>
        <!-- Timer Text -->
        <div id="countdown" class="text-4xl md:text-5xl font-bold text-red-500">25:00</div>
      </div>
      
      <div class="flex justify-center gap-2 md:gap-4">
        <button onclick="startTimer()" class="transition-all duration-300 bg-green-500 hover:bg-green-600 hover:scale-105 text-white px-3 py-2 rounded-lg text-sm md:text-base md:px-4 flex items-center gap-1">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
          </svg>
          Start
        </button>
        <button onclick="pauseTimer()" class="transition-all duration-300 bg-yellow-400 hover:bg-yellow-500 hover:scale-105 text-white px-3 py-2 rounded-lg text-sm md:text-base md:px-4 flex items-center gap-1">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 9v6m4-6v6" />
          </svg>
          Pause
        </button>
        <button onclick="resetTimer()" class="transition-all duration-300 bg-gray-500 hover:bg-gray-600 hover:scale-105 text-white px-3 py-2 rounded-lg text-sm md:text-base md:px-4 flex items-center gap-1">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
          </svg>
          Reset
        </button>
      </div>
      <p id="mode" class="text-center mt-3 md:mt-4 text-xs md:text-sm text-gray-500">Aktu√°lis m√≥d: <span class="font-medium text-red-500">Munka</span></p>
      
      <!-- Add Pomodoro History Display -->
      <div class="mt-4 pt-3 border-t border-gray-100">
        <h3 class="text-sm font-medium text-gray-700 mb-2 text-center">Pomodoro El≈ëzm√©nyek</h3>
        <div id="pomodoro-history" class="flex flex-wrap justify-center gap-2">
          <!-- Pomodoro markers will be added here dynamically -->
        </div>
      </div>
    </section>
    
    <!-- Task Section -->
    <section class="bg-white p-5 rounded-2xl shadow-md hover:shadow-lg transition-shadow duration-300 border border-gray-100 col-span-1 md:col-span-2">
      <h2 class="text-lg md:text-xl font-semibold mb-3 md:mb-4 flex items-center gap-2">
        <span class="text-blue-500">üìã</span> Feladatok
      </h2>
      <ul id="task-list" class="space-y-2 max-h-[300px] md:max-h-[400px] overflow-y-auto">
        <!-- Task items go here -->
      </ul>
      <div class="flex flex-col sm:flex-row mt-4 gap-2">
      <div class="relative flex-1">
        <input id="new-task" type="text" 
              class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all outline-none" 
              placeholder="√öj feladat...">
      </div>
      <div class="relative w-full sm:w-48">
        <input id="subject" type="text" 
              class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all outline-none" 
              placeholder="Tant√°rgy">
      </div>
      <button onclick="addTask()" 
              class="bg-primary-500 hover:bg-primary-600 active:bg-primary-700 text-white px-6 py-3 rounded-lg transition-all duration-200 hover:shadow-md font-medium flex items-center justify-center gap-2">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
        </svg>
        Hozz√°ad√°s
      </button>
    </section>

    <!-- Daily Stats -->
    <section class="bg-white p-5 rounded-2xl shadow-md hover:shadow-lg transition-shadow duration-300 border border-gray-100 col-span-1 md:col-span-3">
      <h2 class="text-lg md:text-xl font-semibold mb-4 flex items-center gap-2">
        <span class="text-green-500">üìä</span> Statisztika
      </h2>
      
      <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6">
        <div class="bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-xl border border-green-200">
          <p class="text-gray-600 text-sm mb-1">Mai teljes√≠tett feladatok</p>
          <p class="text-2xl font-bold text-green-600" id="done-count">0</p>
        </div>
        
        <div class="bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-xl border border-blue-200">
          <p class="text-gray-600 text-sm mb-1">Akt√≠v feladatok</p>
          <p class="text-2xl font-bold text-blue-600" id="active-count">0</p>
        </div>
        
        <div class="bg-gradient-to-br from-red-50 to-red-100 p-4 rounded-xl border border-red-200">
          <p class="text-gray-600 text-sm mb-1">Teljes√≠tett Pomodor√≥k</p>
          <p class="text-2xl font-bold text-red-600" id="pomodoro-count">0</p>
        </div>
      </div>
      <div class="mt-6">
        <h3 class="text-sm font-medium text-gray-700 mb-2">Pomodoro Statisztika</h3>
        <div id="pomodoro-stats" class="bg-white rounded-lg p-3 border border-gray-200 shadow-sm">
          <!-- Stats will be dynamically generated here -->
        </div>
      </div>
    </section>

  </main>
  <script src="{{ url_for('static', filename='js/tasks.js') }}"></script>
  <script src="{{ url_for('static', filename='js/timer.js') }}"></script>
</body>
</html>